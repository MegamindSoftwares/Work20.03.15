@model CountryCityApp.Models.Country

@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Save</title>
</head>
<body>
    <div>
        @using (Html.BeginForm("Save", "Country", FormMethod.Post, new { enctype = "multipart/form-data",id="saveForm" }))
        {
            <table>
                <tr>
                    <td>
                        Name
                    </td>
                    <td>
                        @Html.EditorFor(x => x.Name)
                        @Html.ValidationMessageFor(x => x.Name)
                    </td>
                </tr>
                <tr>
                    <td>
                        About
                    </td>
                    <td>
                        @Html.TextAreaFor(x => x.About)

                        @Html.ValidationMessageFor(x => x.About)
                    </td>
                </tr>
                <tr>
                    <td>
                        Picture
                    </td>
                    <td>
                        <input type="file" name="Picture" id="Picture" />

                    </td>
                </tr>
                <tr>
                    <td></td>
                    <td>
                        <input type="submit" value="Save" />
                    </td>
                </tr>
            </table>
            
            @*<table class="table table-bordered" id="countryTable">
                <thead>
                    <tr>
                        <th>Name</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>*@
        }
    </div>
    <script src="~/scripts/jquery-2.1.3.js"></script>
    <script src="~/scripts/jquery.validate.js"></script>
    <script src="~/scripts/jquery.validate.unobtrusive.js"></script>
    <script src="~/Scripts/tinymce/tinymce.js"></script>
    <script>
        tinyMCE.init({
            // General options
            mode: "textareas",
            theme: "modern",
            // Theme options
            theme_advanced_buttons1: "save,newdocument,|,bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,|,styleselect,formatselect,fontselect,fontsizeselect",
            theme_advanced_buttons2: "cut,copy,paste,pastetext,pasteword,|,search,replace,|,bullist,numlist,|,outdent,indent,blockquote,|,undo,redo,|,link,unlink,anchor,image,cleanup,help,code,|,insertdate,inserttime,preview,|,forecolor,backcolor",
            theme_advanced_buttons3: "tablecontrols,|,hr,removeformat,visualaid,|,sub,sup,|,charmap,emotions,iespell,media,advhr,|,print,|,ltr,rtl,|,fullscreen",
            theme_advanced_buttons4: "insertlayer,moveforward,movebackward,absolute,|,styleprops,spellchecker,|,cite,abbr,acronym,del,ins,attribs,|,visualchars,nonbreaking,template,blockquote,pagebreak,|,insertfile,insertimage",
            theme_advanced_toolbar_location: "top",
            theme_advanced_toolbar_align: "left",
            theme_advanced_statusbar_location: "bottom",
            theme_advanced_resizing: true,
            content_css: "css/example.css",
        });

        @*$(document).ready(function() {
            $("#saveForm").submit(function() {
                var name = $("#Name").val();
                var about = $("#About").val();
                var image = $("#Picture").val();
                var jsonData = { Name: name, About: about, Picture: image };
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("SaveCountry","Country")',
                    contentType: "application/json; charset=utf-8",
                    data: JSON.stringify(jsonData),
                    dataType: "json",
                    success: function (data) {
                        $(data).each(function(key,value) {
                            $("#countryTable tbody").append("<tr><td>" + value.Name + "<td><tr>");
                        });
                    },
                });
                return false;
            });
        });*@
    </script>
</body>
</html>
